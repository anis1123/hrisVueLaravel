(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66adb5b5"],{"2e10":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",[a("div",[a("Toasts",{attrs:{rtl:!0,"max-messages":7,"time-out":3e3}}),a("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons",rel:"stylesheet"}}),a("b-card",{staticClass:"bg-light",staticStyle:{"border-radius":"1px"}},[a("h4",[a("span",{staticClass:"text-primary"},[t._v("Today is "+t._s(t.day))]),t._v(" , "+t._s((new Date).toLocaleString().slice(0,9)))])]),a("v-spacer"),a("b-card",{attrs:{header:"Attendance"}},[a("b-row",[a("b-col",{attrs:{sm:"4"}},[a("label",{attrs:{for:""}},[t._v("Employee By Department")]),a("b-select",{model:{value:t.dep,callback:function(e){t.dep=e},expression:"dep"}},t._l(t.only,function(e){return a("option",{domProps:{value:e.id}},[t._v("  "+t._s(e.title))])}),0)],1),a("b-col",{attrs:{sm:"4"}},[a("label",{attrs:{for:""}},[t._v("Date")]),a("b-input",{attrs:{type:"date"},on:{change:t.emps},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("b-col",{attrs:{sm:"4"}},[a("br"),a("b-btn",{staticClass:"mt-1",attrs:{variant:"primary"},on:{click:t.post}},[t._v("Submit")])],1)],1),a("div",{staticClass:"table mt-1"},[a("table",{staticClass:"table mt-5 table-bordered"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("SN")]),a("th",{attrs:{scope:"col"}},[t._v("Employee Name")]),a("th",{attrs:{scope:"col"}},[t._v("Status")]),a("th",{attrs:{scope:"col"}},[t._v("Attendance")]),a("th",{attrs:{scope:"col"}},[t._v("Reason")]),a("th",[t._v("Save")])])]),t._l(t.data,function(e,s){return a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"em.id"}],attrs:{type:"hidden"},domProps:{value:e.id},on:{input:function(a){a.target.composing||t.$set(e,"id",a.target.value)}}}),t._v(" "+t._s(e.salutation)+t._s(e.firstname)+" "+t._s(e.lastname))]),a("td",[a("b-form-checkbox",{attrs:{value:"present"},model:{value:t.status[s],callback:function(e){t.$set(t.status,s,e)},expression:"status[key]"}},[t._v("Present")]),a("b-checkbox",{staticClass:"text-danger",attrs:{value:"absent"},model:{value:t.status[s],callback:function(e){t.$set(t.status,s,e)},expression:"status[key]"}},[t._v("Absent")])],1),a("td",["absent"==e.status?a("div",[a("b-button",{attrs:{variant:"danger"}},[t._v("Absent")])],1):"present"==e.status?a("div",[a("b-button",{attrs:{variant:"primary"}},[t._v("Present")])],1):t._e()]),a("td",["absent"==t.status[s]?a("b-input",{attrs:{placeholder:"Reason of absent"},model:{value:t.reason[s],callback:function(e){t.$set(t.reason,s,e)},expression:"reason[key]"}}):t._e()],1),a("td",[a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.save(a,e.id,s)}}},[t._v(t._s(t.submit))])],1)])])})],2)])],1)],1)])],1)},n=[],i=a("bd86"),o=(a("bf40"),a("3cdb"),a("bc3a"),a("a7fe"),{data:function(){var t;return t={togglePress:!1,dep:"",date:"",newemp:"",b:"",data:"",indeterminate:!0,reason:[],status:[],saveemp:[],submit:"save",present:""},Object(i["a"])(t,"date",""),Object(i["a"])(t,"clockin",""),Object(i["a"])(t,"clockout",""),Object(i["a"])(t,"half_time",""),Object(i["a"])(t,"leave_type",""),Object(i["a"])(t,"only",""),Object(i["a"])(t,"emp",[]),Object(i["a"])(t,"get",[]),Object(i["a"])(t,"output",""),Object(i["a"])(t,"att",[]),t},computed:{posts:function(){for(var t=this.dep,e=[],a=0;a<this.saveemp.length;++a)this.saveemp[a].department==t&&(e[a]=this.saveemp[a].id);return e},datt:function(){for(var t=0;t<this.att.length;t++)if(this.att[t].date==this.date)return!0;return!1},day:function(){var t=new Date,e=new Array(7);e[0]="Sunday",e[1]="Monday",e[2]="Tuesday",e[3]="Wednesday",e[4]="Thursday",e[5]="Friday",e[6]="Saturday";var a=e[t.getDay()];return a}},mounted:function(){var t=this;this.$axios.get("http://127.0.0.1:8000/api/employee/get").then(function(e){t.saveemp=e.data}).catch(function(e){t.output=e.data}),this.axios.get("http://127.0.0.1:8000/api/attendance/get-new").then(function(e){t.newemp=e.data}),this.$axios.get("http://127.0.0.1:8000/api/department/only").then(function(e){t.only=e.data}),this.axios.get("http://127.0.0.1:8000/api/attendance/get").then(function(e){t.att=e.data})},created:function(){var t=this;this.$axios.get("http://127.0.0.1:8000/api/attendance/get").then(function(e){t.emp=e.data}).catch(function(e){t.output=e.data})},methods:{emps:function(){var t=this;this.axios.get("http://127.0.0.1:8000/api/attendance/check/"+this.dep+"/"+this.date).then(function(e){t.data=e.data})},post:function(t){t.preventDefault();for(var e=this.dep,a=[],s=0;s<this.saveemp.length;++s)this.saveemp[s].department==e&&(a[s]=this.saveemp[s].id,this.axios.post("http://127.0.0.1:8000/api/attendance/store",{date:this.date,emp_id:a[s]}).then(function(t){}))},find:function(){},save:function(t,e,a){var s=this;if(t.preventDefault(),""==this.date)alert("Please Fill Date");else{var n=this.status[a],i=this.reason[a];this.axios.post("http://127.0.0.1:8000/api/date/"+e,{status:n,reason:i}).then(function(t){s.$toast.success("Attendance Updated!!!")})}}}}),r=o,c=(a("9ca8"),a("2877")),d=Object(c["a"])(r,s,n,!1,null,null,null);e["default"]=d.exports},"59fa":function(t,e,a){},"9ca8":function(t,e,a){"use strict";var s=a("59fa"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-66adb5b5.39600da6.js.map