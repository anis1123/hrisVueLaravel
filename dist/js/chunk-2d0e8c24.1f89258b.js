(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e8c24"],{"8b48":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"app flex-row align-items-center"},[a("div",{staticClass:"container"},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{md:"8"}},[a("b-card-group",[a("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[a("b-card-body",[a("b-form",{on:{submit:t.login}},[a("h1",[t._v("Login")]),a("p",{staticClass:"text-muted"},[t._v("Sign In to your account")]),a("b-input-group",{staticClass:"mb-3"},[a("b-input-group-prepend",[a("b-input-group-text",[a("i",{staticClass:"icon-user"})])],1),a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Employee ID",autocomplete:"username email"},model:{value:t.emp_id,callback:function(s){t.emp_id=s},expression:"emp_id"}})],1),1==t.status1?a("b-input-group",{},[a("b-input-group-prepend",[a("b-input-group-text",[a("i",{staticClass:"icon-lock"})])],1),a("b-form-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password",autocomplete:"current-password"},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1):t._e(),a("p",{staticClass:"text-danger"},[t._v(t._s(t.output))]),a("b-row",[a("b-col",{attrs:{cols:"6"}},[0==t.userExists?a("b-button",{staticClass:"px-4 mt-2",attrs:{variant:"primary"},on:{click:t.login}},[t._v("Login")]):t._e(),0==t.userexi?a("b-button",{staticClass:"px-4 mt-2",attrs:{variant:"primary"},on:{click:t.loginuser}},[t._v("Login")]):t._e()],1),a("b-col",{staticClass:"text-right",attrs:{cols:"6"}})],1)],1)],1)],1),a("b-card",{staticClass:"text-white bg-primary d-md-down-none",staticStyle:{width:"44%"},attrs:{"no-body":""}},[a("b-card-body",{staticClass:"text-center"},[a("div",[a("h2",[a("img",{attrs:{src:"http://localhost/hrmsystem/storage/app/public/"+t.data.company_logo,height:"60"}})]),a("p",[t._v(t._s(t.data.company_name))]),a("p",[t._v(t._s(t.data.company_address)+", "+t._s(t.data.country))])])])],1)],1)],1)],1)],1)])},o=[],i={name:"Login",data:function(){return{userExists:!1,userexi:!0,emp_id:"",status1:!1,email:"",password:"",data:"",output:"",datas:"",status:"",g:""}},mounted:function(){var t=this;this.$axios.get("http://127.0.0.1:8000/api/employee/get").then(function(s){t.emp=s.data}).catch(function(s){t.output=s.data}),this.g=localStorage.getItem("emp_id"),this.axios.get("http://127.0.0.1:8000/api/company/get").then(function(s){t.data=s.data}),this.email=localStorage.setItem("email")},watch:{emp_id:function(t){localStorage.emp_id=t}},methods:{loginuser:function(){var t=this;this.axios,this.axios.post("http://127.0.0.1:8000/oauth/token",{grant_type:"password",client_id:4,client_secret:"A1WoeU67u3dFF4ZeEkJPhG1aBRvMysLFrHjGq7ro",username:this.emp_id,password:this.password}).then(function(s){t.$auth.setToken(s.data.access_token,s.data.expires_in+Date.now()),t.$router.push("/dashboard/employee")}).catch(function(){t.output="Login Failed"})},login:function(t){var s=this;t.preventDefault(),this.axios.get("http://127.0.0.1:8000/api/usersID/"+this.emp_id).then(function(t){s.id=t.data,s.process()})},process:function(){var t=this;this.axios.post("http://127.0.0.1:8000/api/emp_id/check/"+this.emp_id).then(function(s){200==s.data?t.id?(t.status1=!0,t.userExists=!0,t.userexi=!1):t.$router.push("/register"):t.output="Your EmployeeID does not Exists"})}}},n=i,r=a("2877"),c=Object(r["a"])(n,e,o,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0e8c24.1f89258b.js.map
